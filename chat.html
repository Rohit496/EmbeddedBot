<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Roomie Chat</title>

    <!-- Content Security Policy: allow Salesforce only -->
    <meta http-equiv="Content-Security-Policy" content="frame-ancestors 'self' https://*.salesforce.com https://*.force.com https://*.my.site.com https://*.vf.force.com">

    <style>
      .embeddedServiceHelpButton .helpButton .uiButton {
        background-color: #005290;
        font-family: "Arial", sans-serif;
      }

      .embeddedServiceHelpButton .helpButton .uiButton:focus {
        outline: 1px solid #005290;
      }
    </style>
  </head>

  <body>
    <script type="text/javascript">
      function initEmbeddedMessaging() {
        try {
          embeddedservice_bootstrap.settings.language = 'en_US';

          embeddedservice_bootstrap.init(
            '00DgK000005KJZt', // Org ID
            'Roomie_ESD', // Deployment name
            'https://orgfarm-8649d57452-dev-ed.develop.my.site.com/ESWRoomieESD1750172120518', // ESW endpoint
            {
              scrt2URL: 'https://orgfarm-8649d57452-dev-ed.develop.my.salesforce-scrt.com'
            }
          );
        } catch (err) {
          console.error('Error loading Embedded Messaging: ', err);
        }
      }
    </script>

    <script 
      type="text/javascript" 
      src="https://orgfarm-8649d57452-dev-ed.develop.my.site.com/ESWRoomieESD1750172120518/assets/js/bootstrap.min.js" 
      onload="initEmbeddedMessaging()">
    </script>
  </body>
</html>
